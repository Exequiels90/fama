{% extends "admin_base.html" %}

{% block title %}Admin - Pedido #{{ order.id }}{% endblock %}

{% block content %}
<h3 class="mb-3">Pedido #{{ order.id }}</h3>

<div class="row">
  <div class="col-md-6">
    <h5>Datos del cliente</h5>
    <ul class="list-unstyled">
      <li><strong>Nombre:</strong> {{ order.customer_name or '-' }}</li>
      <li><strong>Email:</strong> {{ order.customer_email or '-' }}</li>
      <li><strong>Teléfono:</strong> {{ order.customer_phone or '-' }}</li>
      <li><strong>Dirección:</strong> {{ order.customer_address or '-' }}</li>
    </ul>
  </div>
  <div class="col-md-6">
    <h5>Información del pedido</h5>
    <ul class="list-unstyled">
      <li><strong>Fecha:</strong> {{ order.created_at.strftime('%d/%m/%Y %H:%M') if order.created_at else '' }}</li>
      <li><strong>Total (ARS):</strong> ${{ '%.2f'|format(order.total_amount_ars|float) }}</li>
      <li><strong>Estado:</strong> {{ order.status }}</li>
    </ul>
  </div>
</div>

<h5 class="mt-4">Items</h5>
<table class="table table-sm table-bordered">
  <thead class="thead-light">
    <tr>
      <th>Producto</th>
      <th>Cantidad</th>
      <th>Precio unitario</th>
      <th>Total línea</th>
    </tr>
  </thead>
  <tbody>
    {% for item in order.items %}
      <tr>
        <td>{{ item.product_name }}</td>
        <td>{{ item.quantity }}</td>
        <td>${{ '%.2f'|format(item.unit_price_ars|float) }}</td>
        <td>${{ '%.2f'|format(item.line_total_ars|float) }}</td>
      </tr>
    {% else %}
      <tr>
        <td colspan="4" class="text-center">Sin items.</td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<a href="{{ url_for('admin_orders') }}" class="btn btn-secondary mt-3">Volver</a>
{% endblock %}


